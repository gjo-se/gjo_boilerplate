{namespace k = TYPO3\KaercherCentralControl\ViewHelpers}

<f:if condition="{htmlTagAsDiv}">
    <f:then>
        <f:render section="headlineTags" arguments="{
            link: link,
            headline: headline,
            class: class,
            htmlTag: 'div'
        }"/>
    </f:then>
    <f:else>
        <f:render section="headlineTags" arguments="{
            link: link,
            headline: headline,
            class: class,
            htmlTag: 'h{type}'
        }"/>
    </f:else>
</f:if>

<f:section name="headlineTags">
    <f:if condition="{link}">
        <f:then>
            <{htmlTag} class="{class}">
                <a href="<k:uri.auto target="{link}"/>"{k:uri.auto(target:'{link}' returnLinkTarget:'TRUE')}>
                <f:format.htmlentities>{headline}</f:format.htmlentities>
                </a>
            </{htmlTag}>
        </f:then>
        <f:else>
            <{htmlTag} class="{class}">
                <f:format.htmlentities>{headline}</f:format.htmlentities>
            </{htmlTag}>
        </f:else>
    </f:if>
</f:section>