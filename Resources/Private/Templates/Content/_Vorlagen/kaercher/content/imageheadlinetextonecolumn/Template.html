{namespace k = TYPO3\KaercherCentralControl\ViewHelpers}

<f:if condition="{content.0.imageborder}">
	<f:then>
        <f:render partial="SectionOpeningTag" arguments="{
            showanchor: content.0.anchor,
            anchortitle: content.0.anchortitle,
            uid: element.uid
        }"/>
			<div class="row"> 
				<div class="col-sm-12 image-fit"> 
					<f:if condition="{content.0.onbottom} == 1">
						<f:then>
							<div class="hidden-lg hidden-md hidden-sm col-sm-12 col-lg-9 col-no-padding">					
								<f:render section="headlineandtextonbottom" arguments="{_all}" />	
							</div>						
								<f:render section="imagewithborder" arguments="{_all}" />
								<f:render section="horizontalrulesolo" arguments="{_all}" />
							<div class="hidden-xs col-sm-12 col-lg-9 col-no-padding">												
								<f:render section="headlineandtextonbottom" arguments="{_all}" />
							</div>								
					    </f:then>
					    <f:else>
					    	<div class="col-sm-12 col-lg-9 col-no-padding">
								<f:render section="headlineandtextontop" arguments="{_all}" />	
							</div>
							<f:render section="imagewithborder" arguments="{_all}" />
							<f:render section="horizontalrulesolo" arguments="{_all}" />
			           	</f:else>
		           	</f:if>
				</div> 
			</div> 
			<f:render partial="Horizontalrule" arguments="{_all}" />	
		</section> 	
	</f:then>
	<f:else>
        <f:render partial="SectionOpeningTag" arguments="{
            showanchor: content.0.anchor,
            anchortitle: content.0.anchortitle,
            uid: element.uid
        }"/>
			<div class="row"> 
				<div class="col-sm-12 image-fit"> 
					<f:if condition="{content.0.onbottom} == 1">
						<f:then>
                            <f:render section="imagewithoutborder" arguments="{_all}" />
							<div class="col-sm-12 col-lg-9 col-no-padding">
								<f:render section="headlineandtextonbottom" arguments="{_all}" />
							</div>
                            <f:render section="horizontalrulesolo" arguments="{_all}" />
					    </f:then>
					    <f:else>
					    	<div class="col-sm-12 col-lg-9 col-no-padding">
								<f:render section="headlineandtextontop" arguments="{_all}" /> 	
							</div>	
							<f:render section="imagewithoutborder" arguments="{_all}" />
							<f:render section="horizontalrulesolo" arguments="{_all}" />
			           	</f:else>
		           	</f:if>
				</div>
			</div>

            <f:if condition="{content.0.horizontalruleone}">
                <f:render partial="Horizontalrule"/>
            </f:if>
		</section> 	
	</f:else>
</f:if>

<f:section name="horizontalrulesolo">
		<div class="hidden-sm hidden-md hidden-lg">
			<hr />
		</div>
</f:section>	
	    	 
<f:section name="headlineandtextonbottom">
    <f:if condition="{content.0.headline}">
        <f:render partial="Headline" arguments="{
            headline: content.0.headline,
            link: content.0.headlinelink,
            type: content.0.type,
            class: 'headlinebottom'
        }" />
    </f:if>

    <f:render partial="Text" arguments="{
        text: content.0.text
    }" />
</f:section>

<f:section name="headlineandtextontop">
    <f:if condition="{content.0.headline}">
        <f:render partial="Headline" arguments="{
            headline: content.0.headline,
            link: content.0.headlinelink,
            type: content.0.type
        }" />
    </f:if>

    <f:render partial="Text" arguments="{
        text: content.0.text
    }" />
</f:section>

<f:section name="imagewithborder">
	<k:json value="{content.0.image}" alias="obj">
	    <f:then>
	        
	        <f:if condition="{0:obj.type} == {0:'cliplister'}">
	            <f:render partial="Cliplister" arguments="{data:obj, contentUid:contentUid}" />
	        </f:if>
	        
	    </f:then>
	    <f:else>
			<f:if condition="{content.0.imagelink}">
				<f:then>
					<a href="<k:uri.auto target="{content.0.imagelink}"/>"{k:uri.auto(target:'{content.0.imagelink}' returnLinkTarget:'TRUE')}><img data-src="{content.0.image}" alt="<k:assets data="assettitle" uid="{content.0.image.raw}"/>" class="img-border" /></a>
				</f:then>
				<f:else>
                    <img class="img-border"
                         data-src="{content.0.image}"
                         alt="{f:if(condition: content.0.overwrite_alt_tag,
                                then: content.0.overwrite_alt_tag,
                                else: "{k:assets(data:'assettitle' uid:content.0.image.raw)}"
                    )}"
                    />
				</f:else>
			</f:if>	    
	    </f:else>
	</k:json>
</f:section>

<f:section name="imagewithoutborder">
	<k:json value="{content.0.image}" alias="obj">
	    <f:then>
	        
	        <f:if condition="{0:obj.type} == {0:'cliplister'}">
	            <f:render partial="Cliplister" arguments="{data:obj, contentUid:contentUid}" />
	        </f:if>
	        
	    </f:then>
	    <f:else>
			<f:if condition="{content.0.imagelink}">
				<f:then>
					<a href="<k:uri.auto target="{content.0.imagelink}"/>"{k:uri.auto(target:'{content.0.imagelink}' returnLinkTarget:'TRUE')}><img data-src="{content.0.image}" alt="<k:assets data="assettitle" uid="{content.0.image.raw}"/>" /></a>
				</f:then>
				<f:else>
					<img data-src="{content.0.image}"
                         alt="{f:if(condition: content.0.overwrite_alt_tag,
                                then: content.0.overwrite_alt_tag,
                                else: "{k:assets(data:'assettitle' uid:content.0.image.raw)}"
                              )}"
                    />
				</f:else>
			</f:if>    
	    </f:else>
	</k:json>
</f:section>