<div xmlns="http://www.w3.org/1999/xhtml" lang="en"
xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
f:schemaLocation="https://fluidtypo3.org/schemas/fluid-master.xsd"
xmlns:flux="http://typo3.org/ns/FluidTYPO3/Flux/ViewHelpers"
flux:schemaLocation="https://fluidtypo3.org/schemas/flux-master.xsd"
xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers"
v:schemaLocation="https://fluidtypo3.org/schemas/vhs-master.xsd">

	<f:layout name="Content" />

	<f:section name="Configuration">
		<flux:form id="ProductTable" label="ProductTable" description="ProductTable" options="{group: 'MediaMarkt'}">
			<flux:field.input name="heading" label="Heading*" required="TRUE" />
			<flux:form.section name="elements" label="Products">
	    		<flux:form.object name="element" label="Product">
	    			<flux:field.relation size="1" minItems="0" table="tx_mediamarkt_at_products" foreignTableField="Product_reference_number" name="product_id" condition="ORDER BY title"/>
					<flux:field.input required="TRUE" name="link" label="Link to technical information page">
						<flux:wizard.link activeTab="page" />
					</flux:field.input>
	    		</flux:form.object>
    		</flux:form.section>
		</flux:form>
	</f:section>

	<f:section name="Preview">
		Displayed Products:<br/>
		<f:for each="{elements}" as="element">
			{element.element.product_id}
			<br>
		</f:for>
	</f:section>

	<f:section name="Main">
				<div class="product-table-heading">{heading}</div>
				<table class="product-skus">
				<tr>
					<th>Prozessor</th>
					<th>Speicher</th>
					<th>RAM</th>
					<th>Grafik</th>
					<th>Mehr Informationen</th>
					<th>Vergleichen</th>
					<th>Verfügbarkeit</th>
					<th>Preis</th>
					<th></th>
				</tr>
				<f:for each="{elements}" as="element" iteration="elementIterator">
					<tr>
						<f:cObject typoscriptObjectPath="lib.productTablePart1" data="{element.element.product_id}">
							<td>Intel<sup>®</sup> Core<sup>TM</sup> m3</td>
							<td>128GB</td>
							<td>4GB</td>
							<td>Intel<sup>®</sup> HD</td>
						</f:cObject>
							<td><f:link.typolink parameter="{element.element.link}" class="teaser-button">Technische Spezifikationen
								<f:image src="EXT:gjo_introduction/Resources/Public/Assets/icons/dark-arrow-right-big.png"
										 class="dark-icon-right"/>
							</f:link.typolink></td>
							<td><a class="teaser-button" data-id="{element.element.product_id}" onClick="setCompareCookie('{element.element.link}', this);">Vergleichen
								<f:image src="EXT:gjo_introduction/Resources/Public/Assets/icons/dark-arrow-right-big.png"
										 class="dark-icon-right"/>
							</a></td>
						<f:cObject typoscriptObjectPath="lib.productTablePart2" data="{element.element.product_id}">
							<td class="product-skus-availability">Immediately available in onlineshop, delivery in 1-3 days</td>
							<td class="product-skus-price">999,- €</td>
							<td><a href="#" class="teaser-button">Jetzt kaufen
								<f:image src="EXT:gjo_introduction/Resources/Public/Assets/icons/dark-arrow-right-big.png"
										 class="dark-icon-right"/>
							</a></td>
						</f:cObject>
					</tr>
				</f:for>
			</table>
	</f:section>
</div>