<div xmlns="http://www.w3.org/1999/xhtml" lang="en"
xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
f:schemaLocation="https://fluidtypo3.org/schemas/fluid-master.xsd"
xmlns:flux="http://typo3.org/ns/FluidTYPO3/Flux/ViewHelpers"
flux:schemaLocation="https://fluidtypo3.org/schemas/flux-master.xsd"
xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers"
v:schemaLocation="https://fluidtypo3.org/schemas/vhs-master.xsd">

	<f:layout name="Content" />

	<f:section name="Configuration">
		<flux:form id="ProductList" label="ProductList" description="ProductList" options="{group: 'MediaMarkt'}">
			<flux:form.section name="elements" label="Products">
	    		<flux:form.object name="element" label="Product">
	    		    <flux:field.input name
					<flux:field.relation size="1" minItems="0" table="tx_mediamarkt_at_products" foreignTableField="Product_reference_number" name="product_id" condition="ORDER BY title">
					</flux:field.relation>
	    		</flux:form.object>
    		</flux:form.section>
		</flux:form>
	</f:section>

	<f:section name="Preview">
		<f:for each="{elements}" as="element">
			Product ID: {element.element.product_id}
			<br>
		</f:for>
	</f:section>

	<f:section name="Main">
		<div class="unsere-produkte-row">
			<f:for each="{elements}" as="element" iteration="elementIterator">
				<div class="unsere-produkte-row-wrapper">
					<f:cObject typoscriptObjectPath="lib.customproduct" data="{element.element.product_id}"></f:cObject>
					<div class="cb"></div>
				</div> <!-- end of unsere-produkte-row-wrapper --> 
				<f:if condition="{elementIterator.isLast}!=1">
					<div class="gray-border-line" style="padding-top:0; margin-top: 63px"></div>
				</f:if>
			</f:for>
		</div> <!-- end of unsere-produkte-row -->
	</f:section>
</div>