<div xmlns="http://www.w3.org/1999/xhtml" lang="en"
     xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
     f:schemaLocation="https://fluidtypo3.org/schemas/fluid-master.xsd"
     xmlns:flux="http://typo3.org/ns/FluidTYPO3/Flux/ViewHelpers"
     flux:schemaLocation="https://fluidtypo3.org/schemas/flux-master.xsd"
     xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers"
     v:schemaLocation="https://fluidtypo3.org/schemas/vhs-master.xsd">

    <f:layout name="Content"/>

    <f:section name="Configuration">
        <flux:form id="ProductFeatures" label="ProductFeatures" description="ProductFeatures" options="{group: 'MediaMarkt'}">
            <flux:field.select name="boxType" items="{0: 'Please Select Type', 1: 'Small Features', 2: 'Large Features (2 Column)'}"
                               default="0" requestUpdate="TRUE"/>
            <flux:field.input name="heading" label="Heading *" required="TRUE" displayCond="FIELD:boxType:=:2"/>

            <flux:form.section name="elements" label="Features">
                <flux:form.object name="element" label="Feature">
                    <flux:field.file name="image" label="Feature Icon *" required="TRUE" allowed="png,jpg,svg" uploadFolder="uploads/media"
                                     minItems="0" maxItems="1" size="1" showThumbnails="TRUE"/>
                    <flux:field.input name="featureName" label="Feature Name *" required="TRUE"/>
                    <flux:field.text name="text" label="Feature Description *" required="TRUE" rows="2" cols="30"/>
                </flux:form.object>
            </flux:form.section>

            <flux:form.section name="elementsRight" label="Features Right">
                <flux:form.object name="elementRight" label="Feature Right">
                    <flux:field.file name="image" label="Feature Icon *" required="TRUE" allowed="png,jpg,svg" uploadFolder="uploads/media"
                                     minItems="0" maxItems="1" size="1" showThumbnails="TRUE" displayCond="FIELD:boxType:=:2"/>
                    <flux:field.input name="featureName" label="Feature Name *" required="TRUE" displayCond="FIELD:boxType:=:2"/>
                    <flux:field.text name="text" label="Feature Description *" required="TRUE" rows="2" cols="30"
                                     displayCond="FIELD:boxType:=:2"/>
                </flux:form.object>
            </flux:form.section>

        </flux:form>
    </f:section>

    <f:section name="Preview">
        <f:for each="{elements}" as="element">
            {element.element.featureName}<br>
            {element.element.text}
            <br><br>
        </f:for>
    </f:section>

    <f:section name="Main">
        <f:if condition="{boxType}=='1'">
            <f:for each="{elements}" as="element">
                <div class="product-feature">
                    <img src="<f:uri.image src='uploads/media/{element.element.image}' width='200c'/>" alt="">
                    <h4>{element.element.featureName}</h4>
                    <span class="feature-description">{element.element.text}</span>
                </div>
            </f:for>
        </f:if>

        <f:if condition="{boxType}=='2'">
            <div class="product-group-heading large grey">
                <h2>{heading}</h2>
            </div>
            <div class="technical-information-box">
                <div class="align-left">
                    <f:for each="{elements}" as="element">
                        <div class="product-feature">
                            <img src="<f:uri.image src='uploads/media/{element.element.image}' width='200c'/>" alt="">
                            <h4>{element.element.featureName}</h4>
                            <span class="feature-description">{element.element.text}</span>
                        </div>
                    </f:for>
                </div>
                <div class="align-right">
                    <f:for each="{elementsRight}" as="elementRight">
                        <div class="product-feature">
                            <img src="<f:uri.image src='uploads/media/{elementRight.elementRight.image}' width='200c'/>" alt="">
                            <h4>{elementRight.elementRight.featureName}</h4>
                            <span class="feature-description">{elementRight.elementRight.text}</span>
                        </div>
                    </f:for>
                </div>
            </div>
        </f:if>

    </f:section>
</div>